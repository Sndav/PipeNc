# PipeNc - Windows Named Pipe Netcat-like Tool

PipeNc æ˜¯ä¸€ä¸ªç±»ä¼¼äº netcat çš„å·¥å…·ï¼Œä¸“é—¨ç”¨äº Windows å‘½åç®¡é“é€šä¿¡ã€‚å®ƒæ”¯æŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ¨¡å¼ï¼Œå¯ä»¥åœ¨å‘½åç®¡é“ä¸Šè¿›è¡ŒåŒå‘é€šä¿¡ã€‚

## ç‰¹æ€§

- ğŸ”Œ æ”¯æŒ Windows å‘½åç®¡é“é€šä¿¡
- ğŸ–¥ï¸ æœåŠ¡å™¨æ¨¡å¼ï¼ˆç›‘å¬ï¼‰å’Œå®¢æˆ·ç«¯æ¨¡å¼ï¼ˆè¿æ¥ï¼‰
- âš¡ ç±»ä¼¼äº netcat çš„ç®€å•æ¥å£
- ğŸ”„ åŒå‘å®æ—¶é€šä¿¡
- â±ï¸ å¯é…ç½®è¿æ¥è¶…æ—¶
- ğŸ“ è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•è¾“å‡º
- ğŸ› ï¸ ä½¿ç”¨ MinGW äº¤å‰ç¼–è¯‘ï¼Œæ”¯æŒ Windows

## ç¼–è¯‘è¦æ±‚

### å®‰è£… MinGW-w64

**macOS:**
```bash
brew install mingw-w64
```

**Ubuntu/Debian:**
```bash
sudo apt-get install mingw-w64
```

**Fedora/CentOS:**
```bash
sudo dnf install mingw64-gcc
```

## ç¼–è¯‘

### æ£€æŸ¥ MinGW å®‰è£…
```bash
make check-mingw
```

### ç¼–è¯‘æ‰€æœ‰ç‰ˆæœ¬
```bash
make all
```

### ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬
```bash
# ç®€å•ç‰ˆæœ¬ï¼ˆæ— å¤–éƒ¨ä¾èµ–ï¼‰
make simple

# é«˜çº§ç‰ˆæœ¬ï¼ˆæ”¯æŒæ›´å¤šé€‰é¡¹ï¼‰
make advanced
```

### åˆ›å»ºå‘å¸ƒåŒ…
```bash
make dist
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬è¯­æ³•
```bash
pipenc [é€‰é¡¹] ç®¡é“åç§°
```

### é€‰é¡¹
- `-l` : ç›‘å¬æ¨¡å¼ï¼ˆåˆ›å»ºå‘½åç®¡é“æœåŠ¡å™¨ï¼‰
- `-t SECONDS` : è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ï¼š5ç§’ï¼‰
- `-v` : è¯¦ç»†è¾“å‡ºæ¨¡å¼
- `-h` : æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

### ç®¡é“åç§°æ ¼å¼
Windows æœ¬åœ°å‘½åç®¡é“åº”è¯¥ä»¥ `\\\\.\\pipe\\` å¼€å¤´ï¼Œä¾‹å¦‚ï¼š
- `\\\\.\\pipe\\test`
- `\\\\.\\pipe\\myapp`
- `\\\\.\\pipe\\communication`

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šåŸºæœ¬é€šä¿¡

**ç»ˆç«¯ 1ï¼ˆæœåŠ¡å™¨ï¼‰ï¼š**
```bash
./build/pipenc_simple.exe -l \\\\.\\pipe\\test
```

**ç»ˆç«¯ 2ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š**
```bash
./build/pipenc_simple.exe \\\\.\\pipe\\test
```

### ç¤ºä¾‹ 2ï¼šå¸¦è¯¦ç»†è¾“å‡ºçš„é€šä¿¡

**ç»ˆç«¯ 1ï¼ˆæœåŠ¡å™¨ï¼‰ï¼š**
```bash
./build/pipenc.exe -l -v -t 10 \\\\.\\pipe\\myapp
```

**ç»ˆç«¯ 2ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š**
```bash
./build/pipenc.exe -v -t 10 \\\\.\\pipe\\myapp
```

### ç¤ºä¾‹ 3ï¼šåº”ç”¨ç¨‹åºé—´é€šä¿¡

å¯ä»¥å°† PipeNc ç”¨ä½œè°ƒè¯•å·¥å…·ï¼Œä¸å…¶ä»–ä½¿ç”¨å‘½åç®¡é“çš„ Windows åº”ç”¨ç¨‹åºé€šä¿¡ï¼š

```bash
# ç›‘å¬åº”ç”¨ç¨‹åºåˆ›å»ºçš„ç®¡é“
./build/pipenc.exe \\\\.\\pipe\\MyApplication

# åˆ›å»ºç®¡é“ä¾›åº”ç”¨ç¨‹åºè¿æ¥
./build/pipenc.exe -l \\\\.\\pipe\\MyDebugPipe
```

## å®é™…ä½¿ç”¨åœºæ™¯

### 1. åº”ç”¨ç¨‹åºè°ƒè¯•
å½“ä½ éœ€è¦è°ƒè¯•ä½¿ç”¨å‘½åç®¡é“çš„ Windows åº”ç”¨ç¨‹åºæ—¶ï¼š
```bash
# æ‹¦æˆªåº”ç”¨ç¨‹åºçš„ç®¡é“é€šä¿¡
pipenc.exe \\\\.\\pipe\\MyApp_Debug
```

### 2. è¿›ç¨‹é—´é€šä¿¡æµ‹è¯•
æµ‹è¯•ä¸åŒè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼š
```bash
# è¿›ç¨‹ A
pipenc.exe -l \\\\.\\pipe\\ProcessComm

# è¿›ç¨‹ B  
pipenc.exe \\\\.\\pipe\\ProcessComm
```

### 3. è„šæœ¬è‡ªåŠ¨åŒ–
åœ¨æ‰¹å¤„ç†è„šæœ¬ä¸­ä½¿ç”¨ï¼š
```batch
@echo off
echo Starting pipe server...
start pipenc.exe -l \\\\.\\pipe\\automation
timeout /t 2
echo Connecting client...
echo "Hello from script" | pipenc.exe \\\\.\\pipe\\automation
```

## ç¼–è¯‘é€‰é¡¹

### è°ƒè¯•ç‰ˆæœ¬
```bash
make debug
```

### å‘å¸ƒç‰ˆæœ¬ï¼ˆä¼˜åŒ–ï¼‰
```bash
make release
```

### æŸ¥çœ‹é…ç½®
```bash
make config
```

### æ¸…ç†ç¼–è¯‘æ–‡ä»¶
```bash
make clean
```

## æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯

1. **ç®¡é“åç§°é”™è¯¯**
   ```
   Error: Failed to create named pipe (Error code: 123)
   ```
   ç¡®ä¿ç®¡é“åç§°ä»¥ `\\\\.\\pipe\\` å¼€å¤´

2. **æƒé™é—®é¢˜**
   ```
   Error: Access denied (Error code: 5)
   ```
   å°è¯•ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œ

3. **è¿æ¥è¶…æ—¶**
   ```
   Error: Timeout waiting for named pipe
   ```
   å¢åŠ è¶…æ—¶æ—¶é—´æˆ–ç¡®ä¿æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ

4. **MinGW ç¼–è¯‘å™¨æœªæ‰¾åˆ°**
   ```bash
   make check-mingw
   ```
   æ£€æŸ¥ MinGW å®‰è£…

### è°ƒè¯•æŠ€å·§

1. **ä½¿ç”¨è¯¦ç»†è¾“å‡º**
   ```bash
   pipenc.exe -v -l \\\\.\\pipe\\debug
   ```

2. **æ£€æŸ¥ç®¡é“çŠ¶æ€**
   ä½¿ç”¨ Windows çš„ `handle.exe` å·¥å…·ï¼š
   ```cmd
   handle.exe -a | findstr "pipe"
   ```

3. **ç›‘æ§ç³»ç»Ÿæ—¥å¿—**
   æŸ¥çœ‹ Windows äº‹ä»¶æŸ¥çœ‹å™¨ä¸­çš„åº”ç”¨ç¨‹åºæ—¥å¿—

## å…¼å®¹æ€§

- âœ… Windows 7/8/10/11
- âœ… Windows Server 2008R2+
- âœ… 32ä½å’Œ64ä½ç³»ç»Ÿ
- âœ… ç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·æƒé™

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ issues å’Œ pull requestsï¼

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬
- æ”¯æŒåŸºæœ¬çš„å‘½åç®¡é“é€šä¿¡
- æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ¨¡å¼
- MinGW äº¤å‰ç¼–è¯‘æ”¯æŒ
